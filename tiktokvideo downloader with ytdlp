import sys
import os
import yt_dlp

def download_tiktok_video(tiktok_url, output_path="."):
    ydl_opts = {
        'outtmpl': os.path.join(output_path, '%(title)s.%(ext)s'),
        'quiet': False,  # ganti ke true kalo mau lebih sedikit lognya
    }
    try:
        with yt_dlp.YoutubeDL(ydl_opts) as ydl:
            ydl.download([tiktok_url])
        print(f"Video downloaded to: {output_path}")
    except Exception as e:
        print(f"Error: {e}")

if __name__ == "__main__":
    if len(sys.argv) < 2:
        print("Usage: python namafile.py urlnya output videonya")
        sys.exit(1)
    
    url = sys.argv[1]
    output_path = sys.argv[2] if len(sys.argv) > 2 else "."
    
    download_tiktok_video(url, output_path)
